import sys

MORSE_CODE_DICT_EN = {
  'A': '.-', 'B': '-...', 'C':'-.-.', 'D':'-..', 'E':'.', 'F':'..-.', 
  'G':'--.', 'H':'....', 'I':'..', 'J':'.---', 'K':'-.-', 'L':'.-..',
  'M':'--', 'N':'-.', 'O':'---', 'P':'.--.', 'Q':'--.-', 'R':'.-.', 
  'S':'...', 'T':'-', 'U':'..-', 'V':'...-', 'W':'.--', 'X':'-..-', 
  'Y':'-.--', 'Z':'--..', '1':'.----', '2':'..---', '3':'...--', 
  '4':'....-', '5':'.....', '6':'-....', '7':'--...', '8':'---..', 
  '9':'----.', '0':'-----', ', ':'--..--', '.':'.-.-.-', '?':'..--..', 
  '/':'-..-.', '-':'-....-', '(':'-.--.', ')':'-.--.-'
}

MORSE_CODE_DICT_JA = {
  'あ': '--.--', 'い': '.-', 'う': '..-', 'え': '-.---', 'お': '.-...',
  'か': '.-..', 'き': '-.-..', 'く': '...-', 'け': '-.--', 'こ': '----',
  'さ': '-.-.-', 'し': '--.-.', 'す': '---.-', 'せ': '.---.', 'そ':'---.',
  'た': '-.',	'ち': '..-.', 'つ': '.--.', 'て': '.-.--', 'と': '..-..',
  'な': '.-.', 'に': '-.-.', 'ぬ': '....', 'ね': '--.-', 'の': '..--',
  'は': '-...', 'ひ': '--..-', 'ふ': '--..', 'へ': '.', 'ほ': '-..',
  'ま': '-..-', 'み': '..-.-', 'む': '-', 'め': '-...-', 'も': '-..-.',
  'や': '.--', 'ゆ': '-..--', 'よ': '--',
  'ら': '...',  'り': '--.', 'る': '-.--.','れ': '---', 'ろ': '.-.-',
  'わ': '-.-', 'ゐ': '.-..-', 'ゑ': '.--..', 'を': '.---', 'ん': '.-.-.',
  '゛': '..', '゜': '..--.', '。': '.-.-..',  'ー': '.--.-', '、': '.-.-.-', 
  '（': '-.--.-',  '）': '.-..-.', 
  '1':'.----', '2':'..---', '3':'...--', '4':'....-', '5':'.....', 
  '6':'-....', '7':'--...', '8':'---..', '9':'----.', '0':'-----'
}

def decrypt(args):
  lang = args[1]
  if lang == 'ja':
    return morse_to_letters(args[2:], MORSE_CODE_DICT_JA)
  elif lang == 'en':
    return morse_to_letters(args[2:], MORSE_CODE_DICT_EN)
  else:
    return 'Invalid argument. Usage: <lang (`ja` or `en`)> <morse code (`.` or `-`, split by space)>)'
  

def morse_to_letters(input, morse_dict):
  reversed_dict = {value:key for key,value in morse_dict.items()}
  result = ''
  for m in input:
    result += reversed_dict.get(m, '#')
  return result

if __name__ == '__main__':
  sys.stdout.write(decrypt(sys.argv))
